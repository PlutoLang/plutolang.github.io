"use strict";(self.webpackChunkpluto=self.webpackChunkpluto||[]).push([[7370],{5752:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>a,contentTitle:()=>i,default:()=>F,frontMatter:()=>c,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"New Features/Table Freezing","title":"Table Freezing","description":"Tables can now be frozen at their current state to forbid any future modification. This action is irreversible and permanent for the lifespan of the table.","source":"@site/docs/New Features/Table Freezing.md","sourceDirName":"New Features","slug":"/New Features/Table Freezing","permalink":"/docs/New Features/Table Freezing","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Safe Navigation","permalink":"/docs/New Features/Safe Navigation"},"next":{"title":"Try-Catch Statement","permalink":"/docs/New Features/Try-Catch Statement"}}');var r=l(4848),o=l(8453);const c={sidebar_position:2},i=void 0,a={},t=[{value:"What will this prevent?",id:"what-will-this-prevent",level:3}];function d(e){const s={admonition:"admonition",code:"code",div:"div",h3:"h3",p:"p",pre:"pre",span:"span",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"Tables can now be frozen at their current state to forbid any future modification. This action is irreversible and permanent for the lifespan of the table."}),"\n",(0,r.jsxs)(s.pre,{className:"shiki monokai",style:{backgroundColor:"#272822",color:"#F8F8F2"},showlinenumbers:"true",children:[(0,r.jsx)(s.div,{className:"language-id",children:"pluto"}),(0,r.jsx)(s.div,{className:"code-container",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.div,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#88846F"},children:"-- Disallowing any edits to the global environment table."})}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"table"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"freeze"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"_G"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),(0,r.jsx)(s.div,{className:"line"}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"_G"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"string "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {}"})]}),(0,r.jsx)(s.div,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#88846F"},children:"-- file.pluto:4: attempt to modify frozen table."})})]})})]}),"\n",(0,r.jsxs)(s.pre,{className:"shiki monokai",style:{backgroundColor:"#272822",color:"#F8F8F2"},showlinenumbers:"true",children:[(0,r.jsx)(s.div,{className:"language-id",children:"pluto"}),(0,r.jsx)(s.div,{className:"code-container",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.div,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#88846F"},children:"-- Creating a constant local that's associated with a frozen table."})}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"local"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Frozen "}),(0,r.jsx)(s.span,{style:{color:"#66D9EF",fontStyle:"italic"},children:"<const>"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"table"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"freeze"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"({ "}),(0,r.jsx)(s.span,{style:{color:"#AE81FF"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#AE81FF"},children:"2"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#AE81FF"},children:"3"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" })"})]}),(0,r.jsx)(s.div,{className:"line"}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Frozen "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {}"})]}),(0,r.jsx)(s.div,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#88846F"},children:"-- file.pluto:4: attempt to reassign constant."})}),(0,r.jsx)(s.div,{className:"line"}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Frozen["}),(0,r.jsx)(s.span,{style:{color:"#AE81FF"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"] "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#E6DB74"},children:'"new value"'})]}),(0,r.jsx)(s.div,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#88846F"},children:"-- file.pluto:7: attempt to modify frozen table."})}),(0,r.jsx)(s.div,{className:"line"}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"rawset"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Frozen"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#E6DB74"},children:'"key"'}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#E6DB74"},children:'"value"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),(0,r.jsx)(s.div,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#88846F"},children:"-- file.pluto:10: attempt to modify frozen table."})})]})})]}),"\n",(0,r.jsxs)(s.pre,{className:"shiki monokai",style:{backgroundColor:"#272822",color:"#F8F8F2"},showlinenumbers:"true",children:[(0,r.jsx)(s.div,{className:"language-id",children:"pluto"}),(0,r.jsx)(s.div,{className:"code-container",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.div,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#88846F"},children:"--- Trying to swap the value with the debug library."})}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"for"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" i "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#AE81FF"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#AE81FF"},children:"249"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"do"})]}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"local"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" name"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" value "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"debug"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"getlocal"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,r.jsx)(s.span,{style:{color:"#AE81FF"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" i)"})]}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"if"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" name "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"=="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#E6DB74"},children:'"Frozen"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"then"})]}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"debug"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#66D9EF"},children:"setlocal"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,r.jsx)(s.span,{style:{color:"#AE81FF"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" i"}),(0,r.jsx)(s.span,{style:{color:"#9F570F"},children:","}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { ["}),(0,r.jsx)(s.span,{style:{color:"#E6DB74"},children:'"key"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"] "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" "}),(0,r.jsx)(s.span,{style:{color:"#E6DB74"},children:'"hello world"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" })"})]}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"#88846F"},children:"-- file.pluto:5: attempt to modify local variable with a frozen table."})]}),(0,r.jsxs)(s.div,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"end"})]}),(0,r.jsx)(s.div,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F92672"},children:"end"})})]})})]}),"\n",(0,r.jsx)(s.h3,{id:"what-will-this-prevent",children:"What will this prevent?"}),"\n",(0,r.jsxs)(s.p,{children:["All modifications to the table from within the Lua environment will be prevented, including those from the ",(0,r.jsx)(s.code,{children:"debug"})," library."]}),"\n",(0,r.jsx)(s.admonition,{type:"caution",children:(0,r.jsxs)(s.p,{children:["If you're going to use this for a sandbox, ensure you call ",(0,r.jsx)(s.code,{children:"table.freeze"})," before any users can access the Lua environment, otherwise they can replace that function."]})}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["As of Pluto 0.11.0, these functions are unavailable by default. You can enable them by defining the ",(0,r.jsx)(s.code,{children:"PLUTO_ENABLE_TABLE_FREEZING"})," macro."]})})]})}function F(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,l)=>{l.d(s,{R:()=>c,x:()=>i});var n=l(6540);const r={},o=n.createContext(r);function c(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);